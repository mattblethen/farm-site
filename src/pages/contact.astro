---
import Base from "../layouts/Base.astro";

const SITE = {
  url: "https://example.com",
  name: "Pine Ridge Beef",
  phone: "(859) 555-0123",
  email: "hello@pineridgebeef.com",
  address: "123 Farm Lane, Richmond, KY 40475",
};

const title = "Contact Pine Ridge Beef — Questions & Availability";
const description =
  "Contact Pine Ridge Beef with questions about beef shares, availability, cut sheets, pickup or delivery. We’ll reply quickly with straightforward answers.";
---

<Base title={title} description={description} canonical={`${SITE.url}/contact`}>
  <!-- ContactPage + Organization schema -->
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "ContactPage",
      "name": title,
      "description": description,
      "url": `${SITE.url}/contact`,
      "about": {
        "@type": "Organization",
        "name": SITE.name,
        "url": SITE.url,
        "email": SITE.email,
        "telephone": SITE.phone,
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "123 Farm Lane",
          "addressLocality": "Richmond",
          "addressRegion": "KY",
          "postalCode": "40475",
          "addressCountry": "US"
        }
      }
    })}
  </script>

  <section class="section">
    <div class="mx-auto max-w-[1200px] px-4 md:px-6">
      <h1 class="text-3xl md:text-5xl font-semibold">Get in touch</h1>
      <p class="mt-4 text-lg max-w-2xl text-black/80">
        Have a question about beef shares, timing, or cut sheets? Send us a note and we’ll reply quickly.
      </p>
    </div>
  </section>

  <section class="section">
    <div class="mx-auto max-w-[1200px] px-4 md:px-6 grid gap-6 md:grid-cols-[1fr,0.9fr]">
      <!-- Contact methods -->
      <aside class="rounded-2xl bg-white border border-black/5 shadow-sm p-6 md:p-8">
        <h2 class="text-xl font-semibold">Direct contacts</h2>
        <ul class="mt-4 space-y-2 text-black/80">
          <li>
            <strong>Phone:</strong>
            <a class="text-pine underline underline-offset-4" href={`tel:${SITE.phone.replace(/[^0-9]/g,"")}`}>{SITE.phone}</a>
          </li>
          <li>
            <strong>Email:</strong>
            <a class="text-pine underline underline-offset-4" href={`mailto:${SITE.email}`}>{SITE.email}</a>
          </li>
          <li><strong>Address:</strong> {SITE.address}</li>
          <li><strong>Hours:</strong> Mon–Sat 9am–6pm (call ahead)</li>
        </ul>

        <!-- Static map/image placeholder (CLS-safe) -->
        <img
          src="/images/map-farm-1200x600.jpg"
          alt="Map area near the farm and processor location"
          width="1200"
          height="600"
          class="mt-5 w-full h-auto rounded-xl border border-black/10"
          loading="lazy"
          decoding="async"
        />
      </aside>

      <!-- Contact form (GET → confirmation page) -->
      <form
        action="/contact/sent"
        method="get"
        class="rounded-2xl bg-white border border-black/5 shadow-sm p-6 md:p-8 space-y-5"
        aria-labelledby="contactFormTitle"
      >
        <h2 id="contactFormTitle" class="text-xl font-semibold">Send a message</h2>

        <!-- Honeypot -->
        <div class="hidden" aria-hidden="true">
          <label>Leave this field blank
            <input type="text" name="website" tabindex="-1" autocomplete="off" />
          </label>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="name" class="block text-sm font-medium">Full name</label>
            <input id="name" name="name" required autocomplete="name"
                   class="mt-1 w-full rounded-lg border border-black/10 bg-white px-3 py-2" />
          </div>

          <div>
            <label for="email" class="block text-sm font-medium">Email</label>
            <input id="email" name="email" type="email" required autocomplete="email"
                   class="mt-1 w-full rounded-lg border border-black/10 bg-white px-3 py-2" />
          </div>

          <div>
            <label for="phone" class="block text-sm font-medium">Phone (optional)</label>
            <input id="phone" name="phone" type="tel" autocomplete="tel"
                   class="mt-1 w-full rounded-lg border border-black/10 bg-white px-3 py-2" />
          </div>

          <div>
            <label for="topic" class="block text-sm font-medium">Topic</label>
            <select id="topic" name="topic" class="mt-1 w-full rounded-lg border border-black/10 bg-white px-3 py-2">
              <option value="general">General question</option>
              <option value="availability">Availability / timing</option>
              <option value="pricing">Pricing clarification</option>
              <option value="cuts">Cut sheet help</option>
              <option value="delivery">Pickup / delivery</option>
            </select>
          </div>
        </div>

        <div>
          <label for="message" class="block text-sm font-medium">Message</label>
          <textarea id="message" name="message" rows="6"
                    class="mt-1 w-full rounded-lg border border-black/10 bg-white px-3 py-2" required></textarea>
        </div>

        <div class="pt-2 flex flex-wrap gap-3">
          <button type="submit" class="inline-flex items-center rounded-2xl bg-pine text-white px-5 py-2.5 hover:opacity-90">
            Send Message
          </button>
          <a href="mailto:hello@pineridgebeef.com" class="inline-flex items-center rounded-2xl border border-black/10 bg-white px-5 py-2.5 hover:bg-white/90">
            Email Instead
          </a>
        </div>

        <p class="text-xs text-black/50">
          Demo only: this form does not send email. After submitting, you’ll see a confirmation summary.
        </p>
      </form>
    </div>
  </section>
</Base>
